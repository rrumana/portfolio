---
export interface Props {
  id?: string;
  title?: string;
  eyebrow?: string;
  description?: string;
  accent?: boolean;
  padding?: 'large' | 'medium';
  class?: string;
}

const props = Astro.props as Props & { [key: string]: unknown };

const {
  id,
  title,
  eyebrow,
  description,
  accent = false,
  padding = 'large',
  class: className = '',
  ...rest
} = props;
---
<section
  id={id}
  class={`section-shell section-shell--${padding} ${accent ? 'section-shell--accent' : ''} ${className}`.trim()}
  {...rest}
>
  {(title || eyebrow || description) && (
    <header class="section-shell__header">
      {eyebrow && <p class="section-shell__eyebrow">{eyebrow}</p>}
      {title && <h2 class="section-shell__title">{title}</h2>}
      {description && <p class="section-shell__description">{description}</p>}
    </header>
  )}
  <div class="section-shell__content">
    <slot />
  </div>
</section>

<style>
.section-shell {
  border-radius: var(--radius-lg, 16px);
  background: var(--color-surface-100);
  border: 1px solid var(--color-border-subtle);
  box-shadow: var(--shadow-sm);
  scroll-margin-top: clamp(4rem, 8vw, 6.5rem);
}

.section-shell--accent {
  border: 1px solid color-mix(in srgb, var(--color-primary-500) 32%, transparent);
}

.section-shell--large {
  padding: clamp(1.5rem, 2vw, 2.5rem);
}

.section-shell--medium {
  padding: clamp(1.25rem, 1.6vw, 2rem);
}

.section-shell__header {
  display: grid;
  gap: var(--space-sm, 0.75rem);
  margin-bottom: var(--space-lg, 1.5rem);
}

.section-shell__eyebrow {
  text-transform: uppercase;
  font-size: var(--font-size-sm, 0.875rem);
  letter-spacing: 0.08em;
  color: var(--color-text-muted);
  font-weight: 600;
}

.section-shell__title {
  font-size: clamp(2rem, 3vw, 2.5rem);
  font-weight: 700;
  margin: 0;
}

.section-shell__description {
  font-size: var(--font-size-lg, 1.25rem);
  color: var(--color-text-muted);
  max-width: 60ch;
}

.section-shell__content {
  display: grid;
  gap: var(--space-lg, 1.5rem);
}

html[data-theme='dark'] .section-shell {
  background: var(--color-surface-300);
  border: 1px solid var(--color-border-muted);
  box-shadow: none;
}

html[data-theme='dark'] .section-shell__description,
html[data-theme='dark'] .section-shell__eyebrow {
  color: var(--color-text-muted);
}
</style>
